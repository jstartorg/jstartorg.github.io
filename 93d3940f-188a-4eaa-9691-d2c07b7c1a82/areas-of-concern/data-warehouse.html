<!DOCTYPE html> <html><head>
		<title>Data warehouse</title>
		<base href="../">
		<meta id="root-path" root-path="../">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=1.0, maximum-scale=5.0">
		<meta charset="UTF-8">
		<meta name="description" content="Jumpstart - Data warehouse">
		<meta property="og:title" content="Data warehouse">
		<meta property="og:description" content="Jumpstart - Data warehouse">
		<meta property="og:type" content="website">
		<meta property="og:url" content="https://resources.jstart.org/93d3940f-188a-4eaa-9691-d2c07b7c1a82/areas-of-concern/data-warehouse.html">
		<meta property="og:image" content="undefined">
		<meta property="og:site_name" content="Jumpstart">
		<script async="" id="webpage-script" src="lib/scripts/webpage.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="minisearch-script" src="lib/scripts/minisearch.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><link rel="icon" href="lib/media/favicon.png"><style>body{--line-width:40em;--line-width-adaptive:40em;--file-line-width:40em;--sidebar-width:min(20em, 80vw);--collapse-arrow-size:11px;--tree-horizontal-spacing:0.6em;--tree-vertical-spacing:0.6em;--sidebar-margin:12px}.sidebar{height:100%;min-width:calc(var(--sidebar-width) + var(--divider-width-hover));max-width:calc(var(--sidebar-width) + var(--divider-width-hover));font-size:14px;z-index:10;position:relative;overflow:hidden;transition:min-width ease-in-out,max-width ease-in-out;transition-duration:.2s;contain:size}.sidebar-left{left:0}.sidebar-right{right:0}.sidebar.is-collapsed{min-width:0;max-width:0}body.floating-sidebars .sidebar{position:absolute}.sidebar-content{height:100%;min-width:calc(var(--sidebar-width) - var(--divider-width-hover));top:0;padding:var(--sidebar-margin);padding-top:4em;line-height:var(--line-height-tight);background-color:var(--background-secondary);transition:background-color,border-right,border-left,box-shadow;transition-duration:var(--color-fade-speed);transition-timing-function:ease-in-out;position:absolute;display:flex;flex-direction:column}.sidebar:not(.is-collapsed) .sidebar-content{min-width:calc(max(100%,var(--sidebar-width)) - 3px);max-width:calc(max(100%,var(--sidebar-width)) - 3px)}.sidebar-left .sidebar-content{left:0;border-top-right-radius:var(--radius-l);border-bottom-right-radius:var(--radius-l)}.sidebar-right .sidebar-content{right:0;border-top-left-radius:var(--radius-l);border-bottom-left-radius:var(--radius-l)}.sidebar:has(.sidebar-content:empty):has(.topbar-content:empty){display:none}.sidebar-topbar{height:2em;width:var(--sidebar-width);top:var(--sidebar-margin);padding-inline:var(--sidebar-margin);z-index:1;position:fixed;display:flex;align-items:center;transition:width ease-in-out;transition-duration:inherit}.sidebar.is-collapsed .sidebar-topbar{width:calc(2.3em + var(--sidebar-margin) * 2)}.sidebar .sidebar-topbar.is-collapsed{width:0}.sidebar-left .sidebar-topbar{left:0}.sidebar-right .sidebar-topbar{right:0}.topbar-content{overflow:hidden;overflow:clip;width:100%;height:100%;display:flex;align-items:center;transition:inherit}.sidebar.is-collapsed .topbar-content{width:0;transition:inherit}.clickable-icon.sidebar-collapse-icon{background-color:transparent;color:var(--icon-color-focused);padding:0!important;margin:0!important;height:100%!important;width:2.3em!important;margin-inline:0.14em!important;position:absolute}.sidebar-left .clickable-icon.sidebar-collapse-icon{transform:rotateY(180deg);right:var(--sidebar-margin)}.sidebar-right .clickable-icon.sidebar-collapse-icon{transform:rotateY(180deg);left:var(--sidebar-margin)}.clickable-icon.sidebar-collapse-icon svg.svg-icon{width:100%;height:100%}.sidebar-section-header{margin:0 0 1em 0;text-transform:uppercase;letter-spacing:.06em;font-weight:600}body{transition:background-color var(--color-fade-speed) ease-in-out}.webpage-container{display:flex;flex-direction:row;height:100%;width:100%;align-items:stretch;justify-content:center}.document-container{opacity:1;flex-basis:100%;max-width:100%;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;transition:opacity .2s ease-in-out;contain:inline-size}.hide{opacity:0;transition:opacity .2s ease-in-out}.document-container>.markdown-preview-view{margin:var(--sidebar-margin);margin-bottom:0;width:100%;width:-webkit-fill-available;width:-moz-available;width:fill-available;background-color:var(--background-primary);transition:background-color var(--color-fade-speed) ease-in-out;border-top-right-radius:var(--window-radius,var(--radius-m));border-top-left-radius:var(--window-radius,var(--radius-m));overflow-x:hidden!important;overflow-y:auto!important;display:flex!important;flex-direction:column!important;align-items:center!important;contain:inline-size}.document-container>.markdown-preview-view>.markdown-preview-sizer{padding-bottom:80vh!important;width:100%!important;max-width:var(--line-width)!important;flex-basis:var(--line-width)!important;transition:background-color var(--color-fade-speed) ease-in-out;contain:inline-size}.markdown-rendered img:not([width]),.view-content img:not([width]){max-width:100%;outline:0}.document-container>.view-content.embed{display:flex;padding:1em;height:100%;width:100%;align-items:center;justify-content:center}.document-container>.view-content.embed>*{max-width:100%;max-height:100%;object-fit:contain}:has(> :is(.math,table)){overflow-x:auto!important}.document-container>.view-content{overflow-x:auto;contain:content;padding:0;margin:0;height:100%}.scroll-highlight{position:absolute;width:100%;height:100%;pointer-events:none;z-index:1000;background-color:hsla(var(--color-accent-hsl),.25);opacity:0;padding:1em;inset:50%;translate:-50% -50%;border-radius:var(--radius-s)}</style><script defer="">async function loadIncludes(){if("file:"!=location.protocol){let e=document.querySelectorAll("include");for(let t=0;t<e.length;t++){let o=e[t],l=o.getAttribute("src");try{const e=await fetch(l);if(!e.ok){console.log("Could not include file: "+l),o?.remove();continue}let t=await e.text(),n=document.createRange().createContextualFragment(t),i=Array.from(n.children);for(let e of i)e.classList.add("hide"),e.style.transition="opacity 0.5s ease-in-out",setTimeout((()=>{e.classList.remove("hide")}),10);o.before(n),o.remove(),console.log("Included file: "+l)}catch(e){o?.remove(),console.log("Could not include file: "+l,e);continue}}}else{if(document.querySelectorAll("include").length>0){var e=document.createElement("div");e.id="error",e.textContent="Web server exports must be hosted on an http / web server to be viewed correctly.",e.style.position="fixed",e.style.top="50%",e.style.left="50%",e.style.transform="translate(-50%, -50%)",e.style.fontSize="1.5em",e.style.fontWeight="bold",e.style.textAlign="center",document.body.appendChild(e),document.querySelector(".document-container")?.classList.remove("hide")}}}document.addEventListener("DOMContentLoaded",(()=>{loadIncludes()}));let isFileProtocol="file:"==location.protocol;function waitLoadScripts(e,t){let o=e.map((e=>document.getElementById(e+"-script"))),l=0;!function e(){let n=o[l];l++,n&&"true"!=n.getAttribute("loaded")||l<o.length&&e(),l<o.length?n.addEventListener("load",e):t()}()}</script><link rel="stylesheet" href="lib/styles/obsidian.css"><link rel="preload" href="lib/styles/other-plugins.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/other-plugins.css"></noscript><link rel="preload" href="lib/styles/global-variable-styles.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/global-variable-styles.css"></noscript><link rel="preload" href="lib/styles/main-styles.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/main-styles.css"></noscript></head><body class="publish css-settings-manager theme-dark show-inline-title"><script defer="">let theme=localStorage.getItem("theme")||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");"dark"==theme?(document.body.classList.add("theme-dark"),document.body.classList.remove("theme-light")):(document.body.classList.add("theme-light"),document.body.classList.remove("theme-dark")),window.innerWidth<480?document.body.classList.add("is-phone"):window.innerWidth<768?document.body.classList.add("is-tablet"):window.innerWidth<1024?document.body.classList.add("is-small-screen"):document.body.classList.add("is-large-screen")</script><div class="webpage-container workspace"><div class="sidebar-left sidebar"><div class="sidebar-handle"></div><div class="sidebar-topbar"><div class="topbar-content"><label class="theme-toggle-container" for="theme_toggle"><input class="theme-toggle-input" type="checkbox" id="theme_toggle"><div class="toggle-background"></div></label></div><div class="clickable-icon sidebar-collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><path d="M21 3H3C1.89543 3 1 3.89543 1 5V19C1 20.1046 1.89543 21 3 21H21C22.1046 21 23 20.1046 23 19V5C23 3.89543 22.1046 3 21 3Z"></path><path d="M10 4V20"></path><path d="M4 7H7"></path><path d="M4 10H7"></path><path d="M4 13H7"></path></svg></div></div><div class="sidebar-content"><div class="search-input-container"><input enterkeyhint="search" type="search" spellcheck="false" placeholder="Search..."><div class="search-input-clear-button" aria-label="Clear search"></div></div><include src="lib/html/file-tree.html"></include></div><script defer="">let ls = document.querySelector(".sidebar-left"); ls.classList.add("is-collapsed"); if (window.innerWidth > 768) ls.classList.remove("is-collapsed"); ls.style.setProperty("--sidebar-width", localStorage.getItem("sidebar-left-width"));</script></div><div class="document-container markdown-reading-view hide"><div class="markdown-preview-view markdown-rendered allow-fold-headings allow-fold-lists is-readable-line-width"><style id="MJX-CHTML-styles"></style><div class="markdown-preview-sizer markdown-preview-section"><h1 class="page-title heading inline-title" id="Description"><p>Description</p></h1><div class="heading-wrapper"><div class="heading-children"><div><p>The <a data-tooltip-position="top" aria-label="Data Warehouses and Lakes" data-href="Data Warehouses and Lakes" href="key-terms/data-warehouses-and-lakes.html" class="internal-link" target="_self" rel="noopener">data warehouse</a> at Jumpstart is a <a data-href="PostgreSQL" href="key-terms/postgresql.html" class="internal-link" target="_self" rel="noopener">PostgreSQL</a> database on Amazon <a data-href="RDS" href="key-terms/rds.html" class="internal-link" target="_self" rel="noopener">RDS</a> which is fed by a paired <a data-href="Simple Queue Service" href="system-services/amazon-web-services/simple-queue-service.html" class="internal-link" target="_self" rel="noopener">Simple Queue Service</a> and <a data-href="Key Terms/Lambda" href="key-terms/lambda.html" class="internal-link" target="_self" rel="noopener">Key Terms/Lambda</a>. The <a data-href="SQS" href="key-terms/sqs.html" class="internal-link" target="_self" rel="noopener">SQS</a> input is published as a <a data-href="AWS API Gateway" href="system-services/amazon-web-services/aws-api-gateway.html" class="internal-link" target="_self" rel="noopener">AWS API Gateway</a> URL and any service or function that can <a data-tooltip-position="top" aria-label="HTTP > POST" data-href="HTTP#POST" href="key-terms/http.html#POST" class="internal-link" target="_self" rel="noopener">POST</a> <a data-href="JSON" href="key-terms/json.html" class="internal-link" target="_self" rel="noopener">JSON</a> data to the API endpoint - <a rel="noopener" class="external-link" href="https://api.jstart.org/data/capture" target="_blank">https://api.jstart.org/data/capture</a>. A best effort is made to match the origin in the <a data-tooltip-position="top" aria-label="AWS Lambda > sqsDataToWarehouse" data-href="AWS Lambda#sqsDataToWarehouse" href="system-services/amazon-web-services/aws-lambda.html#sqsDataToWarehouse" class="internal-link" target="_self" rel="noopener">lambda</a>, but it may need to be updated/planned around in the future.</p></div><div><p>The data in the warehouse is then processed and integrated into reporting through <a data-href="Power BI" href="system-services/microsoft-online/power-bi.html" class="internal-link" target="_self" rel="noopener">Power BI</a> data flows and semantic models, which then have reports built on top of them. The data flows often combine raw data in the warehouse with other sources such as <a data-tooltip-position="top" aria-label="System Services/Salesforce/Salesforce" data-href="System Services/Salesforce/Salesforce" href="system-services/salesforce/salesforce.html" class="internal-link" target="_self" rel="noopener">Salesforce</a>, but it is not required.</p></div></div></div><div class="heading-wrapper"><h1 data-heading="[[IaC]]" class="heading" id="[[IaC]]"><a data-href="IaC" href="key-terms/iac.html" class="internal-link" target="_self" rel="noopener">IaC</a></h1><div class="heading-children"><div><p>The actual deployed infrastructure on <a data-href="Amazon Web Services" href="system-services/amazon-web-services/amazon-web-services.html" class="internal-link" target="_self" rel="noopener">Amazon Web Services</a></p></div><div><pre class="language-yaml" tabindex="0"><code class="language-yaml is-loaded"><span class="token punctuation">---</span>
<span class="token key atrule">Metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">TemplateId</span><span class="token punctuation">:</span> <span class="token string">"arn:aws:cloudformation:us-east-1:774453113362:generatedTemplate/d0b2164b-7155-4475-a87a-137863f098ca"</span>
<span class="token key atrule">Parameters</span><span class="token punctuation">:</span>
  <span class="token key atrule">RdsVpcSubnet</span><span class="token punctuation">:</span>
    <span class="token key atrule">NoEcho</span><span class="token punctuation">:</span> <span class="token string">"true"</span>
    <span class="token key atrule">Type</span><span class="token punctuation">:</span> <span class="token string">"CommaDelimitedList"</span>
    <span class="token key atrule">Description</span><span class="token punctuation">:</span> <span class="token string">"Value of write only property SubnetIds of resource RDSDBSubnetGroup00corprdssubnet00SDX2U."</span>
  <span class="token key atrule">LambdaDeploymentKey</span><span class="token punctuation">:</span>
    <span class="token key atrule">NoEcho</span><span class="token punctuation">:</span> <span class="token string">"true"</span>
    <span class="token key atrule">Type</span><span class="token punctuation">:</span> <span class="token string">"String"</span>
    <span class="token key atrule">Description</span><span class="token punctuation">:</span> "The Amazon S3 key of the deployment package.\nThis property can\
      \ be replaced with other exclusive properties"
  <span class="token key atrule">LambdaDeploymentBucket</span><span class="token punctuation">:</span>
    <span class="token key atrule">NoEcho</span><span class="token punctuation">:</span> <span class="token string">"true"</span>
    <span class="token key atrule">Type</span><span class="token punctuation">:</span> <span class="token string">"String"</span>
    <span class="token key atrule">Description</span><span class="token punctuation">:</span> "An Amazon S3 bucket in the same AWS Region as your function. The\
      \ bucket can be in a different AWS account.\nThis property can be replaced with\
      \ other exclusive properties"
<span class="token key atrule">Resources</span><span class="token punctuation">:</span>
  <span class="token key atrule">SqsToWarehouseEventSourceMapping</span><span class="token punctuation">:</span>
    <span class="token key atrule">UpdateReplacePolicy</span><span class="token punctuation">:</span> <span class="token string">"Retain"</span>
    <span class="token key atrule">Type</span><span class="token punctuation">:</span> <span class="token string">"AWS::Lambda::EventSourceMapping"</span>
    <span class="token key atrule">DeletionPolicy</span><span class="token punctuation">:</span> <span class="token string">"Retain"</span>
    <span class="token key atrule">Properties</span><span class="token punctuation">:</span>
      <span class="token key atrule">BatchSize</span><span class="token punctuation">:</span> <span class="token number">10</span>
      <span class="token key atrule">FunctionName</span><span class="token punctuation">:</span>
        <span class="token key atrule">Fn::GetAtt</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> <span class="token string">"SqsToWarehouseLambda"</span>
        <span class="token punctuation">-</span> <span class="token string">"Arn"</span>
      <span class="token key atrule">Enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
      <span class="token key atrule">EventSourceArn</span><span class="token punctuation">:</span>
        <span class="token key atrule">Fn::GetAtt</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> <span class="token string">"SqsToWarehouseSqsQueue"</span>
        <span class="token punctuation">-</span> <span class="token string">"Arn"</span>
      <span class="token key atrule">MaximumBatchingWindowInSeconds</span><span class="token punctuation">:</span> <span class="token number">0</span>
  <span class="token key atrule">Ec2VpcSubnet</span><span class="token punctuation">:</span>
    <span class="token key atrule">UpdateReplacePolicy</span><span class="token punctuation">:</span> <span class="token string">"Retain"</span>
    <span class="token key atrule">Type</span><span class="token punctuation">:</span> <span class="token string">"AWS::EC2::Subnet"</span>
    <span class="token key atrule">DeletionPolicy</span><span class="token punctuation">:</span> <span class="token string">"Retain"</span>
    <span class="token key atrule">Properties</span><span class="token punctuation">:</span>
      <span class="token key atrule">MapPublicIpOnLaunch</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
      <span class="token key atrule">EnableDns64</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
      <span class="token key atrule">VpcId</span><span class="token punctuation">:</span> <span class="token string">"vpc-8792a8ec"</span>
      <span class="token key atrule">AvailabilityZoneId</span><span class="token punctuation">:</span> <span class="token string">"use1-az2"</span>
      <span class="token key atrule">PrivateDnsNameOptionsOnLaunch</span><span class="token punctuation">:</span>
        <span class="token key atrule">EnableResourceNameDnsARecord</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
        <span class="token key atrule">HostnameType</span><span class="token punctuation">:</span> <span class="token string">"ip-name"</span>
        <span class="token key atrule">EnableResourceNameDnsAAAARecord</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
      <span class="token key atrule">CidrBlock</span><span class="token punctuation">:</span> <span class="token string">"10.0.90.0/24"</span>
      <span class="token key atrule">Ipv6Native</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
      <span class="token key atrule">Ipv6CidrBlocks</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">"2600:1f18:2ffe:1600::/64"</span>
      <span class="token key atrule">Ipv6CidrBlock</span><span class="token punctuation">:</span> <span class="token string">"2600:1f18:2ffe:1600::/64"</span>
      <span class="token key atrule">Tags</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token key atrule">SqsToWarehouseApiGatewayDomainName</span><span class="token punctuation">:</span>
    <span class="token key atrule">UpdateReplacePolicy</span><span class="token punctuation">:</span> <span class="token string">"Retain"</span>
    <span class="token key atrule">Type</span><span class="token punctuation">:</span> <span class="token string">"AWS::ApiGatewayV2::DomainName"</span>
    <span class="token key atrule">DeletionPolicy</span><span class="token punctuation">:</span> <span class="token string">"Retain"</span>
    <span class="token key atrule">Properties</span><span class="token punctuation">:</span>
      <span class="token key atrule">DomainName</span><span class="token punctuation">:</span> <span class="token string">"api.jstart.org"</span>
      <span class="token key atrule">DomainNameConfigurations</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">EndpointType</span><span class="token punctuation">:</span> <span class="token string">"REGIONAL"</span>
        <span class="token key atrule">SecurityPolicy</span><span class="token punctuation">:</span> <span class="token string">"TLS_1_2"</span>
        <span class="token key atrule">CertificateArn</span><span class="token punctuation">:</span> <span class="token string">"arn:aws:acm:us-east-1:774453113362:certificate/6d98c767-05e6-4c38-b6dd-c304aae8f8a4"</span>
      <span class="token key atrule">Tags</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token key atrule">RdsKey</span><span class="token punctuation">:</span>
    <span class="token key atrule">UpdateReplacePolicy</span><span class="token punctuation">:</span> <span class="token string">"Retain"</span>
    <span class="token key atrule">Type</span><span class="token punctuation">:</span> <span class="token string">"AWS::KMS::Key"</span>
    <span class="token key atrule">DeletionPolicy</span><span class="token punctuation">:</span> <span class="token string">"Retain"</span>
    <span class="token key atrule">Properties</span><span class="token punctuation">:</span>
      <span class="token key atrule">Origin</span><span class="token punctuation">:</span> <span class="token string">"AWS_KMS"</span>
      <span class="token key atrule">MultiRegion</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
      <span class="token key atrule">Description</span><span class="token punctuation">:</span> "Default master key that protects my RDS database volumes when\
        \ no other key is defined"
      <span class="token key atrule">KeyPolicy</span><span class="token punctuation">:</span>
        <span class="token key atrule">Version</span><span class="token punctuation">:</span> <span class="token string">"2012-10-17"</span>
        <span class="token key atrule">Statement</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> <span class="token key atrule">Condition</span><span class="token punctuation">:</span>
            <span class="token key atrule">StringEquals</span><span class="token punctuation">:</span>
              <span class="token key atrule">kms:ViaService</span><span class="token punctuation">:</span> <span class="token string">"rds.us-east-1.amazonaws.com"</span>
              <span class="token key atrule">kms:CallerAccount</span><span class="token punctuation">:</span> <span class="token string">"774453113362"</span>
          <span class="token key atrule">Resource</span><span class="token punctuation">:</span> <span class="token string">"*"</span>
          <span class="token key atrule">Action</span><span class="token punctuation">:</span>
          <span class="token punctuation">-</span> <span class="token string">"kms:Encrypt"</span>
          <span class="token punctuation">-</span> <span class="token string">"kms:Decrypt"</span>
          <span class="token punctuation">-</span> <span class="token string">"kms:ReEncrypt*"</span>
          <span class="token punctuation">-</span> <span class="token string">"kms:GenerateDataKey*"</span>
          <span class="token punctuation">-</span> <span class="token string">"kms:CreateGrant"</span>
          <span class="token punctuation">-</span> <span class="token string">"kms:ListGrants"</span>
          <span class="token punctuation">-</span> <span class="token string">"kms:DescribeKey"</span>
          <span class="token key atrule">Effect</span><span class="token punctuation">:</span> <span class="token string">"Allow"</span>
          <span class="token key atrule">Principal</span><span class="token punctuation">:</span>
            <span class="token key atrule">AWS</span><span class="token punctuation">:</span> <span class="token string">"*"</span>
          <span class="token key atrule">Sid</span><span class="token punctuation">:</span> "Allow access through RDS for all principals in the account that are\
            \ authorized to use RDS"
        <span class="token punctuation">-</span> <span class="token key atrule">Resource</span><span class="token punctuation">:</span> <span class="token string">"*"</span>
          <span class="token key atrule">Action</span><span class="token punctuation">:</span>
          <span class="token punctuation">-</span> <span class="token string">"kms:Describe*"</span>
          <span class="token punctuation">-</span> <span class="token string">"kms:Get*"</span>
          <span class="token punctuation">-</span> <span class="token string">"kms:List*"</span>
          <span class="token punctuation">-</span> <span class="token string">"kms:RevokeGrant"</span>
          <span class="token key atrule">Effect</span><span class="token punctuation">:</span> <span class="token string">"Allow"</span>
          <span class="token key atrule">Principal</span><span class="token punctuation">:</span>
            <span class="token key atrule">AWS</span><span class="token punctuation">:</span> <span class="token string">"arn:aws:iam::774453113362:root"</span>
          <span class="token key atrule">Sid</span><span class="token punctuation">:</span> <span class="token string">"Allow direct access to key metadata to the account"</span>
        <span class="token key atrule">Id</span><span class="token punctuation">:</span> <span class="token string">"auto-rds-2"</span>
      <span class="token key atrule">KeySpec</span><span class="token punctuation">:</span> <span class="token string">"SYMMETRIC_DEFAULT"</span>
      <span class="token key atrule">Enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
      <span class="token key atrule">EnableKeyRotation</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
      <span class="token key atrule">KeyUsage</span><span class="token punctuation">:</span> <span class="token string">"ENCRYPT_DECRYPT"</span>
      <span class="token key atrule">Tags</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token key atrule">AllInternalTrafficEc2VpcSubnetSecurityGroup</span><span class="token punctuation">:</span>
    <span class="token key atrule">UpdateReplacePolicy</span><span class="token punctuation">:</span> <span class="token string">"Retain"</span>
    <span class="token key atrule">Type</span><span class="token punctuation">:</span> <span class="token string">"AWS::EC2::SecurityGroup"</span>
    <span class="token key atrule">DeletionPolicy</span><span class="token punctuation">:</span> <span class="token string">"Retain"</span>
    <span class="token key atrule">Properties</span><span class="token punctuation">:</span>
      <span class="token key atrule">GroupDescription</span><span class="token punctuation">:</span> <span class="token string">"Allow all internal traffic"</span>
      <span class="token key atrule">GroupName</span><span class="token punctuation">:</span> <span class="token string">"All Internal Traffic"</span>
      <span class="token key atrule">VpcId</span><span class="token punctuation">:</span>
        <span class="token key atrule">Ref</span><span class="token punctuation">:</span> <span class="token string">"EC2VPC00vpc8792a8ec002Y27W"</span>
      <span class="token key atrule">SecurityGroupIngress</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">CidrIp</span><span class="token punctuation">:</span> <span class="token string">"216.57.88.252/32"</span>
        <span class="token key atrule">IpProtocol</span><span class="token punctuation">:</span> <span class="token string">"-1"</span>
        <span class="token key atrule">Description</span><span class="token punctuation">:</span> <span class="token string">"Boston TowerStream"</span>
      <span class="token punctuation">-</span> <span class="token key atrule">CidrIp</span><span class="token punctuation">:</span> <span class="token string">"50.77.31.52/32"</span>
        <span class="token key atrule">IpProtocol</span><span class="token punctuation">:</span> <span class="token string">"-1"</span>
        <span class="token key atrule">Description</span><span class="token punctuation">:</span> <span class="token string">"Boston Comcast"</span>
      <span class="token punctuation">-</span> <span class="token key atrule">CidrIp</span><span class="token punctuation">:</span> <span class="token string">"192.168.0.0/16"</span>
        <span class="token key atrule">IpProtocol</span><span class="token punctuation">:</span> <span class="token string">"-1"</span>
        <span class="token key atrule">Description</span><span class="token punctuation">:</span> <span class="token string">"All internal IPs"</span>
      <span class="token punctuation">-</span> <span class="token key atrule">CidrIp</span><span class="token punctuation">:</span> <span class="token string">"10.0.85.0/24"</span>
        <span class="token key atrule">IpProtocol</span><span class="token punctuation">:</span> <span class="token string">"-1"</span>
        <span class="token key atrule">Description</span><span class="token punctuation">:</span> <span class="token string">"AWS IPs 1"</span>
      <span class="token punctuation">-</span> <span class="token key atrule">CidrIp</span><span class="token punctuation">:</span> <span class="token string">"10.0.90.0/24"</span>
        <span class="token key atrule">IpProtocol</span><span class="token punctuation">:</span> <span class="token string">"-1"</span>
        <span class="token key atrule">Description</span><span class="token punctuation">:</span> <span class="token string">"AWS IPs 2"</span>
      <span class="token punctuation">-</span> <span class="token key atrule">CidrIp</span><span class="token punctuation">:</span> <span class="token string">"96.71.85.37/32"</span>
        <span class="token key atrule">IpProtocol</span><span class="token punctuation">:</span> <span class="token string">"-1"</span>
        <span class="token key atrule">Description</span><span class="token punctuation">:</span> <span class="token string">"Atlanta"</span>
      <span class="token punctuation">-</span> <span class="token key atrule">CidrIp</span><span class="token punctuation">:</span> <span class="token string">"173.15.26.69/32"</span>
        <span class="token key atrule">IpProtocol</span><span class="token punctuation">:</span> <span class="token string">"-1"</span>
        <span class="token key atrule">Description</span><span class="token punctuation">:</span> <span class="token string">"Chicago"</span>
      <span class="token punctuation">-</span> <span class="token key atrule">CidrIp</span><span class="token punctuation">:</span> <span class="token string">"96.83.84.185/32"</span>
        <span class="token key atrule">IpProtocol</span><span class="token punctuation">:</span> <span class="token string">"-1"</span>
        <span class="token key atrule">Description</span><span class="token punctuation">:</span> <span class="token string">"DC"</span>
      <span class="token punctuation">-</span> <span class="token key atrule">CidrIp</span><span class="token punctuation">:</span> <span class="token string">"108.237.139.249/32"</span>
        <span class="token key atrule">IpProtocol</span><span class="token punctuation">:</span> <span class="token string">"-1"</span>
        <span class="token key atrule">Description</span><span class="token punctuation">:</span> <span class="token string">"LA"</span>
      <span class="token punctuation">-</span> <span class="token key atrule">CidrIp</span><span class="token punctuation">:</span> <span class="token string">"96.64.241.45/32"</span>
        <span class="token key atrule">IpProtocol</span><span class="token punctuation">:</span> <span class="token string">"-1"</span>
        <span class="token key atrule">Description</span><span class="token punctuation">:</span> <span class="token string">"SF"</span>
      <span class="token key atrule">SecurityGroupEgress</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">CidrIp</span><span class="token punctuation">:</span> <span class="token string">"0.0.0.0/0"</span>
        <span class="token key atrule">IpProtocol</span><span class="token punctuation">:</span> <span class="token string">"-1"</span>
      <span class="token punctuation">-</span> <span class="token key atrule">CidrIpv6</span><span class="token punctuation">:</span> <span class="token string">"::/0"</span>
        <span class="token key atrule">IpProtocol</span><span class="token punctuation">:</span> <span class="token string">"-1"</span>
  <span class="token key atrule">EC2Subnet00subnetd549beb8007f4sk</span><span class="token punctuation">:</span>
    <span class="token key atrule">UpdateReplacePolicy</span><span class="token punctuation">:</span> <span class="token string">"Retain"</span>
    <span class="token key atrule">Type</span><span class="token punctuation">:</span> <span class="token string">"AWS::EC2::Subnet"</span>
    <span class="token key atrule">DeletionPolicy</span><span class="token punctuation">:</span> <span class="token string">"Retain"</span>
    <span class="token key atrule">Properties</span><span class="token punctuation">:</span>
      <span class="token key atrule">MapPublicIpOnLaunch</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
      <span class="token key atrule">EnableDns64</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
      <span class="token key atrule">VpcId</span><span class="token punctuation">:</span> <span class="token string">"vpc-8792a8ec"</span>
      <span class="token key atrule">AvailabilityZoneId</span><span class="token punctuation">:</span> <span class="token string">"use1-az6"</span>
      <span class="token key atrule">PrivateDnsNameOptionsOnLaunch</span><span class="token punctuation">:</span>
        <span class="token key atrule">EnableResourceNameDnsARecord</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
        <span class="token key atrule">HostnameType</span><span class="token punctuation">:</span> <span class="token string">"ip-name"</span>
        <span class="token key atrule">EnableResourceNameDnsAAAARecord</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
      <span class="token key atrule">CidrBlock</span><span class="token punctuation">:</span> <span class="token string">"10.0.86.0/24"</span>
      <span class="token key atrule">Ipv6Native</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
      <span class="token key atrule">Ipv6CidrBlocks</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">"2600:1f18:2ffe:1602::/64"</span>
      <span class="token key atrule">Ipv6CidrBlock</span><span class="token punctuation">:</span> <span class="token string">"2600:1f18:2ffe:1602::/64"</span>
      <span class="token key atrule">Tags</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token key atrule">ApiGatewayRestApi00tunu2v04z7009xmHD</span><span class="token punctuation">:</span>
    <span class="token key atrule">UpdateReplacePolicy</span><span class="token punctuation">:</span> <span class="token string">"Retain"</span>
    <span class="token key atrule">Type</span><span class="token punctuation">:</span> <span class="token string">"AWS::ApiGateway::RestApi"</span>
    <span class="token key atrule">DeletionPolicy</span><span class="token punctuation">:</span> <span class="token string">"Retain"</span>
    <span class="token key atrule">Properties</span><span class="token punctuation">:</span>
      <span class="token key atrule">Policy</span><span class="token punctuation">:</span> "<span class="token punctuation">{</span>\"Version\"<span class="token punctuation">:</span>\"2012<span class="token punctuation">-</span>10<span class="token punctuation">-</span>17\"<span class="token punctuation">,</span>\"Statement\"<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span>\"Effect\"<span class="token punctuation">:</span>\"Allow\"<span class="token punctuation">,</span>\"\
        Principal\"<span class="token punctuation">:</span>\"<span class="token important">*\"</span><span class="token punctuation">,</span>\"Action\"<span class="token punctuation">:</span>\"execute<span class="token punctuation">-</span>api<span class="token punctuation">:</span>Invoke\"<span class="token punctuation">,</span>\"Resource\"<span class="token punctuation">:</span>\"arn<span class="token punctuation">:</span>aws<span class="token punctuation">:</span>execute<span class="token punctuation">-</span>api<span class="token punctuation">:</span>us<span class="token punctuation">-</span>east<span class="token punctuation">-</span>1<span class="token punctuation">:</span>774453113362<span class="token punctuation">:</span>tunu2v04z7/<span class="token important">*/*/*\"\</span>
        <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">}</span>"
      <span class="token key atrule">ApiKeySourceType</span><span class="token punctuation">:</span> <span class="token string">"HEADER"</span>
      <span class="token key atrule">MinimumCompressionSize</span><span class="token punctuation">:</span> <span class="token number">1</span>
      <span class="token key atrule">EndpointConfiguration</span><span class="token punctuation">:</span>
        <span class="token key atrule">Types</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> <span class="token string">"REGIONAL"</span>
      <span class="token key atrule">DisableExecuteApiEndpoint</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
      <span class="token key atrule">Name</span><span class="token punctuation">:</span> <span class="token string">"data-capture"</span>
  <span class="token key atrule">ApiGatewayStage00v100QzFrR</span><span class="token punctuation">:</span>
    <span class="token key atrule">UpdateReplacePolicy</span><span class="token punctuation">:</span> <span class="token string">"Retain"</span>
    <span class="token key atrule">Type</span><span class="token punctuation">:</span> <span class="token string">"AWS::ApiGateway::Stage"</span>
    <span class="token key atrule">DeletionPolicy</span><span class="token punctuation">:</span> <span class="token string">"Retain"</span>
    <span class="token key atrule">Properties</span><span class="token punctuation">:</span>
      <span class="token key atrule">DeploymentId</span><span class="token punctuation">:</span>
        <span class="token key atrule">Fn::GetAtt</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> <span class="token string">"ApiGatewayDeployment00e2tkyr00zWtun"</span>
        <span class="token punctuation">-</span> <span class="token string">"DeploymentId"</span>
      <span class="token key atrule">StageName</span><span class="token punctuation">:</span> <span class="token string">"v1"</span>
      <span class="token key atrule">TracingEnabled</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
      <span class="token key atrule">RestApiId</span><span class="token punctuation">:</span>
        <span class="token key atrule">Ref</span><span class="token punctuation">:</span> <span class="token string">"ApiGatewayRestApi00tunu2v04z7009xmHD"</span>
      <span class="token key atrule">MethodSettings</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">CacheTtlInSeconds</span><span class="token punctuation">:</span> <span class="token number">300</span>
        <span class="token key atrule">LoggingLevel</span><span class="token punctuation">:</span> <span class="token string">"OFF"</span>
        <span class="token key atrule">ResourcePath</span><span class="token punctuation">:</span> <span class="token string">"/*"</span>
        <span class="token key atrule">CacheDataEncrypted</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
        <span class="token key atrule">DataTraceEnabled</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
        <span class="token key atrule">ThrottlingBurstLimit</span><span class="token punctuation">:</span> <span class="token number">5000</span>
        <span class="token key atrule">CachingEnabled</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
        <span class="token key atrule">MetricsEnabled</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
        <span class="token key atrule">HttpMethod</span><span class="token punctuation">:</span> <span class="token string">"*"</span>
        <span class="token key atrule">ThrottlingRateLimit</span><span class="token punctuation">:</span> <span class="token number">10000</span>
      <span class="token key atrule">CacheClusterSize</span><span class="token punctuation">:</span> <span class="token string">"0.5"</span>
      <span class="token key atrule">CacheClusterEnabled</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
  <span class="token key atrule">RDSDBSubnetGroup00corprdssubnet00SDX2U</span><span class="token punctuation">:</span>
    <span class="token key atrule">UpdateReplacePolicy</span><span class="token punctuation">:</span> <span class="token string">"Retain"</span>
    <span class="token key atrule">Type</span><span class="token punctuation">:</span> <span class="token string">"AWS::RDS::DBSubnetGroup"</span>
    <span class="token key atrule">DeletionPolicy</span><span class="token punctuation">:</span> <span class="token string">"Retain"</span>
    <span class="token key atrule">Properties</span><span class="token punctuation">:</span>
      <span class="token key atrule">SubnetIds</span><span class="token punctuation">:</span>
        <span class="token key atrule">Ref</span><span class="token punctuation">:</span> <span class="token string">"RdsVpcSubnet"</span>
      <span class="token key atrule">DBSubnetGroupDescription</span><span class="token punctuation">:</span> <span class="token string">"Corp RDS Instance"</span>
      <span class="token key atrule">DBSubnetGroupName</span><span class="token punctuation">:</span> <span class="token string">"corp-rds-subnet"</span>
  <span class="token key atrule">IAMRole00sqsDataCaptureToWarehouserolesnejiyho00z41DC</span><span class="token punctuation">:</span>
    <span class="token key atrule">UpdateReplacePolicy</span><span class="token punctuation">:</span> <span class="token string">"Retain"</span>
    <span class="token key atrule">Type</span><span class="token punctuation">:</span> <span class="token string">"AWS::IAM::Role"</span>
    <span class="token key atrule">DeletionPolicy</span><span class="token punctuation">:</span> <span class="token string">"Retain"</span>
    <span class="token key atrule">Properties</span><span class="token punctuation">:</span>
      <span class="token key atrule">Path</span><span class="token punctuation">:</span> <span class="token string">"/service-role/"</span>
      <span class="token key atrule">ManagedPolicyArns</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">"arn:aws:iam::774453113362:policy/service-role/AWSLambdaTracerAccessExecutionRole-1c52df4a-3352-46dd-8b1f-edd86712e2a8"</span>
      <span class="token punctuation">-</span> <span class="token string">"arn:aws:iam::aws:policy/service-role/AWSLambdaSQSQueueExecutionRole"</span>
      <span class="token punctuation">-</span> <span class="token string">"arn:aws:iam::aws:policy/AmazonCodeGuruProfilerAgentAccess"</span>
      <span class="token punctuation">-</span> <span class="token string">"arn:aws:iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"</span>
      <span class="token punctuation">-</span> <span class="token string">"arn:aws:iam::774453113362:policy/service-role/AWSLambdaBasicExecutionRole-824cf19e-5bba-4b7d-913c-6f7259a576b6"</span>
      <span class="token key atrule">MaxSessionDuration</span><span class="token punctuation">:</span> <span class="token number">3600</span>
      <span class="token key atrule">RoleName</span><span class="token punctuation">:</span> <span class="token string">"sqsDataCaptureToWarehouse-role-snejiyho"</span>
      <span class="token key atrule">AssumeRolePolicyDocument</span><span class="token punctuation">:</span>
        <span class="token key atrule">Version</span><span class="token punctuation">:</span> <span class="token string">"2012-10-17"</span>
        <span class="token key atrule">Statement</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> <span class="token key atrule">Action</span><span class="token punctuation">:</span> <span class="token string">"sts:AssumeRole"</span>
          <span class="token key atrule">Effect</span><span class="token punctuation">:</span> <span class="token string">"Allow"</span>
          <span class="token key atrule">Principal</span><span class="token punctuation">:</span>
            <span class="token key atrule">Service</span><span class="token punctuation">:</span> <span class="token string">"lambda.amazonaws.com"</span>
  <span class="token key atrule">SqsToWarehouseLambda</span><span class="token punctuation">:</span>
    <span class="token key atrule">UpdateReplacePolicy</span><span class="token punctuation">:</span> <span class="token string">"Retain"</span>
    <span class="token key atrule">Type</span><span class="token punctuation">:</span> <span class="token string">"AWS::Lambda::Function"</span>
    <span class="token key atrule">DeletionPolicy</span><span class="token punctuation">:</span> <span class="token string">"Retain"</span>
    <span class="token key atrule">Properties</span><span class="token punctuation">:</span>
      <span class="token key atrule">MemorySize</span><span class="token punctuation">:</span> <span class="token number">128</span>
      <span class="token key atrule">Description</span><span class="token punctuation">:</span> <span class="token string">""</span>
      <span class="token key atrule">TracingConfig</span><span class="token punctuation">:</span>
        <span class="token key atrule">Mode</span><span class="token punctuation">:</span> <span class="token string">"PassThrough"</span>
      <span class="token key atrule">VpcConfig</span><span class="token punctuation">:</span>
        <span class="token key atrule">SecurityGroupIds</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> <span class="token string">"sg-5d974329"</span>
        <span class="token key atrule">SubnetIds</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> <span class="token key atrule">Ref</span><span class="token punctuation">:</span> <span class="token string">"EC2Subnet00subnetd549beb8007f4sk"</span>
        <span class="token punctuation">-</span> <span class="token key atrule">Ref</span><span class="token punctuation">:</span> <span class="token string">"Ec2VpcSubnet"</span>
        <span class="token punctuation">-</span> <span class="token key atrule">Ref</span><span class="token punctuation">:</span> <span class="token string">"EC2Subnet00subnet9f92a8f400P9kkb"</span>
        <span class="token key atrule">Ipv6AllowedForDualStack</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
      <span class="token key atrule">Timeout</span><span class="token punctuation">:</span> <span class="token number">4</span>
      <span class="token key atrule">RuntimeManagementConfig</span><span class="token punctuation">:</span>
        <span class="token key atrule">UpdateRuntimeOn</span><span class="token punctuation">:</span> <span class="token string">"Auto"</span>
      <span class="token key atrule">Handler</span><span class="token punctuation">:</span> <span class="token string">"lambda_function.lambda_handler"</span>
      <span class="token key atrule">Code</span><span class="token punctuation">:</span>
        <span class="token key atrule">S3Bucket</span><span class="token punctuation">:</span>
          <span class="token key atrule">Ref</span><span class="token punctuation">:</span> <span class="token string">"LambdaDeploymentBucket"</span>
        <span class="token key atrule">S3Key</span><span class="token punctuation">:</span>
          <span class="token key atrule">Ref</span><span class="token punctuation">:</span> <span class="token string">"LambdaDeploymentKey"</span>
      <span class="token key atrule">Role</span><span class="token punctuation">:</span>
        <span class="token key atrule">Fn::GetAtt</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> <span class="token string">"IAMRole00sqsDataCaptureToWarehouserolesnejiyho00z41DC"</span>
        <span class="token punctuation">-</span> <span class="token string">"Arn"</span>
      <span class="token key atrule">FileSystemConfigs</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
      <span class="token key atrule">FunctionName</span><span class="token punctuation">:</span> <span class="token string">"sqsDataToWarehouse"</span>
      <span class="token key atrule">Runtime</span><span class="token punctuation">:</span> <span class="token string">"python3.8"</span>
      <span class="token key atrule">PackageType</span><span class="token punctuation">:</span> <span class="token string">"Zip"</span>
      <span class="token key atrule">LoggingConfig</span><span class="token punctuation">:</span>
        <span class="token key atrule">LogFormat</span><span class="token punctuation">:</span> <span class="token string">"Text"</span>
        <span class="token key atrule">LogGroup</span><span class="token punctuation">:</span> <span class="token string">"/aws/lambda/sqsDataToWarehouse"</span>
      <span class="token key atrule">Environment</span><span class="token punctuation">:</span>
        <span class="token key atrule">Variables</span><span class="token punctuation">:</span>
          <span class="token key atrule">rds_host</span><span class="token punctuation">:</span> <span class="token string">"10.0.90.6"</span>
          <span class="token key atrule">rds_username</span><span class="token punctuation">:</span> <span class="token string">"jstartorg"</span>
          <span class="token key atrule">rds_dbname</span><span class="token punctuation">:</span> <span class="token string">"surveys"</span>
          <span class="token key atrule">rds_port</span><span class="token punctuation">:</span> <span class="token string">"5432"</span>
          <span class="token key atrule">rds_password</span><span class="token punctuation">:</span> <span class="token string">"51W9JatjScWTUML9fcJ0wwybSHY5nIDZ5EBtJK"</span>
      <span class="token key atrule">EphemeralStorage</span><span class="token punctuation">:</span>
        <span class="token key atrule">Size</span><span class="token punctuation">:</span> <span class="token number">512</span>
      <span class="token key atrule">Layers</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">"arn:aws:lambda:us-east-1:770693421928:layer:Klayers-python38-PyYAML:5"</span>
      <span class="token key atrule">Architectures</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">"x86_64"</span>
  <span class="token key atrule">ApiGatewayDeployment00e2tkyr00zWtun</span><span class="token punctuation">:</span>
    <span class="token key atrule">UpdateReplacePolicy</span><span class="token punctuation">:</span> <span class="token string">"Retain"</span>
    <span class="token key atrule">Type</span><span class="token punctuation">:</span> <span class="token string">"AWS::ApiGateway::Deployment"</span>
    <span class="token key atrule">DeletionPolicy</span><span class="token punctuation">:</span> <span class="token string">"Retain"</span>
    <span class="token key atrule">Properties</span><span class="token punctuation">:</span>
      <span class="token key atrule">RestApiId</span><span class="token punctuation">:</span>
        <span class="token key atrule">Ref</span><span class="token punctuation">:</span> <span class="token string">"ApiGatewayRestApi00tunu2v04z7009xmHD"</span>
  <span class="token key atrule">ApiGatewayV2ApiMapping00apijstartorg00HpKdg</span><span class="token punctuation">:</span>
    <span class="token key atrule">UpdateReplacePolicy</span><span class="token punctuation">:</span> <span class="token string">"Retain"</span>
    <span class="token key atrule">Type</span><span class="token punctuation">:</span> <span class="token string">"AWS::ApiGatewayV2::ApiMapping"</span>
    <span class="token key atrule">DeletionPolicy</span><span class="token punctuation">:</span> <span class="token string">"Retain"</span>
    <span class="token key atrule">Properties</span><span class="token punctuation">:</span>
      <span class="token key atrule">Stage</span><span class="token punctuation">:</span>
        <span class="token key atrule">Fn::GetAtt</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> <span class="token string">"ApiGatewayStage00v100QzFrR"</span>
        <span class="token punctuation">-</span> <span class="token string">"StageName"</span>
      <span class="token key atrule">ApiMappingKey</span><span class="token punctuation">:</span> <span class="token string">"data"</span>
      <span class="token key atrule">DomainName</span><span class="token punctuation">:</span>
        <span class="token key atrule">Ref</span><span class="token punctuation">:</span> <span class="token string">"SqsToWarehouseApiGatewayDomainName"</span>
      <span class="token key atrule">ApiId</span><span class="token punctuation">:</span>
        <span class="token key atrule">Ref</span><span class="token punctuation">:</span> <span class="token string">"ApiGatewayRestApi00tunu2v04z7009xmHD"</span>
  <span class="token key atrule">EC2VPC00vpc8792a8ec002Y27W</span><span class="token punctuation">:</span>
    <span class="token key atrule">UpdateReplacePolicy</span><span class="token punctuation">:</span> <span class="token string">"Retain"</span>
    <span class="token key atrule">Type</span><span class="token punctuation">:</span> <span class="token string">"AWS::EC2::VPC"</span>
    <span class="token key atrule">DeletionPolicy</span><span class="token punctuation">:</span> <span class="token string">"Retain"</span>
    <span class="token key atrule">Properties</span><span class="token punctuation">:</span>
      <span class="token key atrule">CidrBlock</span><span class="token punctuation">:</span> <span class="token string">"10.0.80.0/20"</span>
      <span class="token key atrule">EnableDnsSupport</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
      <span class="token key atrule">InstanceTenancy</span><span class="token punctuation">:</span> <span class="token string">"default"</span>
      <span class="token key atrule">EnableDnsHostnames</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
      <span class="token key atrule">Tags</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token key atrule">RDSDBInstance00internalappspostgresql00xBNja</span><span class="token punctuation">:</span>
    <span class="token key atrule">UpdateReplacePolicy</span><span class="token punctuation">:</span> <span class="token string">"Retain"</span>
    <span class="token key atrule">Type</span><span class="token punctuation">:</span> <span class="token string">"AWS::RDS::DBInstance"</span>
    <span class="token key atrule">DeletionPolicy</span><span class="token punctuation">:</span> <span class="token string">"Retain"</span>
    <span class="token key atrule">Properties</span><span class="token punctuation">:</span>
      <span class="token key atrule">StorageEncrypted</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
      <span class="token key atrule">AssociatedRoles</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
      <span class="token key atrule">CertificateDetails</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
      <span class="token key atrule">ProcessorFeatures</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
      <span class="token key atrule">PreferredBackupWindow</span><span class="token punctuation">:</span> <span class="token string">"09:41-10:11"</span>
      <span class="token key atrule">MonitoringInterval</span><span class="token punctuation">:</span> <span class="token number">0</span>
      <span class="token key atrule">DBParameterGroupName</span><span class="token punctuation">:</span> <span class="token string">"internal-apps"</span>
      <span class="token key atrule">Endpoint</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
      <span class="token key atrule">NetworkType</span><span class="token punctuation">:</span> <span class="token string">"IPV4"</span>
      <span class="token key atrule">DedicatedLogVolume</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
      <span class="token key atrule">CopyTagsToSnapshot</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
      <span class="token key atrule">MultiAZ</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
      <span class="token key atrule">Engine</span><span class="token punctuation">:</span> <span class="token string">"postgres"</span>
      <span class="token key atrule">Tags</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
      <span class="token key atrule">PerformanceInsightsKMSKeyId</span><span class="token punctuation">:</span>
        <span class="token key atrule">Fn::GetAtt</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> <span class="token string">"RdsKey"</span>
        <span class="token punctuation">-</span> <span class="token string">"Arn"</span>
      <span class="token key atrule">LicenseModel</span><span class="token punctuation">:</span> <span class="token string">"postgresql-license"</span>
      <span class="token key atrule">EngineVersion</span><span class="token punctuation">:</span> <span class="token string">"12.17"</span>
      <span class="token key atrule">StorageType</span><span class="token punctuation">:</span> <span class="token string">"gp2"</span>
      <span class="token key atrule">KmsKeyId</span><span class="token punctuation">:</span>
        <span class="token key atrule">Fn::GetAtt</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> <span class="token string">"RdsKey"</span>
        <span class="token punctuation">-</span> <span class="token string">"Arn"</span>
      <span class="token key atrule">DBInstanceClass</span><span class="token punctuation">:</span> <span class="token string">"db.t3.small"</span>
      <span class="token key atrule">PerformanceInsightsRetentionPeriod</span><span class="token punctuation">:</span> <span class="token number">7</span>
      <span class="token key atrule">AvailabilityZone</span><span class="token punctuation">:</span> <span class="token string">"us-east-1a"</span>
      <span class="token key atrule">OptionGroupName</span><span class="token punctuation">:</span> <span class="token string">"default:postgres-12"</span>
      <span class="token key atrule">PreferredMaintenanceWindow</span><span class="token punctuation">:</span> <span class="token string">"fri:08:00-fri:08:30"</span>
      <span class="token key atrule">EnablePerformanceInsights</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
      <span class="token key atrule">AutoMinorVersionUpgrade</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
      <span class="token key atrule">DBSubnetGroupName</span><span class="token punctuation">:</span>
        <span class="token key atrule">Ref</span><span class="token punctuation">:</span> <span class="token string">"RDSDBSubnetGroup00corprdssubnet00SDX2U"</span>
      <span class="token key atrule">DeletionProtection</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
      <span class="token key atrule">DBInstanceIdentifier</span><span class="token punctuation">:</span> <span class="token string">"internalapps-postgresql"</span>
      <span class="token key atrule">AllocatedStorage</span><span class="token punctuation">:</span> <span class="token string">"110"</span>
      <span class="token key atrule">CACertificateIdentifier</span><span class="token punctuation">:</span> <span class="token string">"rds-ca-2019"</span>
      <span class="token key atrule">ManageMasterUserPassword</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
      <span class="token key atrule">MasterUserSecret</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
      <span class="token key atrule">VPCSecurityGroups</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">Fn::GetAtt</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> <span class="token string">"AllInternalTrafficEc2VpcSubnetSecurityGroup"</span>
        <span class="token punctuation">-</span> <span class="token string">"GroupId"</span>
      <span class="token key atrule">DBSecurityGroups</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
      <span class="token key atrule">MasterUsername</span><span class="token punctuation">:</span> <span class="token string">"jstartorg"</span>
      <span class="token key atrule">EnableIAMDatabaseAuthentication</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
      <span class="token key atrule">MaxAllocatedStorage</span><span class="token punctuation">:</span> <span class="token number">200</span>
      <span class="token key atrule">BackupRetentionPeriod</span><span class="token punctuation">:</span> <span class="token number">4</span>
      <span class="token key atrule">PubliclyAccessible</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
      <span class="token key atrule">EnableCloudwatchLogsExports</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token key atrule">EC2Subnet00subnet9f92a8f400P9kkb</span><span class="token punctuation">:</span>
    <span class="token key atrule">UpdateReplacePolicy</span><span class="token punctuation">:</span> <span class="token string">"Retain"</span>
    <span class="token key atrule">Type</span><span class="token punctuation">:</span> <span class="token string">"AWS::EC2::Subnet"</span>
    <span class="token key atrule">DeletionPolicy</span><span class="token punctuation">:</span> <span class="token string">"Retain"</span>
    <span class="token key atrule">Properties</span><span class="token punctuation">:</span>
      <span class="token key atrule">MapPublicIpOnLaunch</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
      <span class="token key atrule">EnableDns64</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
      <span class="token key atrule">VpcId</span><span class="token punctuation">:</span> <span class="token string">"vpc-8792a8ec"</span>
      <span class="token key atrule">AvailabilityZoneId</span><span class="token punctuation">:</span> <span class="token string">"use1-az4"</span>
      <span class="token key atrule">PrivateDnsNameOptionsOnLaunch</span><span class="token punctuation">:</span>
        <span class="token key atrule">EnableResourceNameDnsARecord</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
        <span class="token key atrule">HostnameType</span><span class="token punctuation">:</span> <span class="token string">"ip-name"</span>
        <span class="token key atrule">EnableResourceNameDnsAAAARecord</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
      <span class="token key atrule">CidrBlock</span><span class="token punctuation">:</span> <span class="token string">"10.0.85.0/24"</span>
      <span class="token key atrule">Ipv6Native</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
      <span class="token key atrule">Ipv6CidrBlocks</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">"2600:1f18:2ffe:1601::/64"</span>
      <span class="token key atrule">Ipv6CidrBlock</span><span class="token punctuation">:</span> <span class="token string">"2600:1f18:2ffe:1601::/64"</span>
      <span class="token key atrule">Tags</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token key atrule">SqsToWarehouseSqsQueue</span><span class="token punctuation">:</span>
    <span class="token key atrule">UpdateReplacePolicy</span><span class="token punctuation">:</span> <span class="token string">"Retain"</span>
    <span class="token key atrule">Type</span><span class="token punctuation">:</span> <span class="token string">"AWS::SQS::Queue"</span>
    <span class="token key atrule">DeletionPolicy</span><span class="token punctuation">:</span> <span class="token string">"Retain"</span>
    <span class="token key atrule">Properties</span><span class="token punctuation">:</span>
      <span class="token key atrule">SqsManagedSseEnabled</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
      <span class="token key atrule">ReceiveMessageWaitTimeSeconds</span><span class="token punctuation">:</span> <span class="token number">0</span>
      <span class="token key atrule">DelaySeconds</span><span class="token punctuation">:</span> <span class="token number">0</span>
      <span class="token key atrule">MessageRetentionPeriod</span><span class="token punctuation">:</span> <span class="token number">1209600</span>
      <span class="token key atrule">MaximumMessageSize</span><span class="token punctuation">:</span> <span class="token number">262144</span>
      <span class="token key atrule">VisibilityTimeout</span><span class="token punctuation">:</span> <span class="token number">120</span>
      <span class="token key atrule">QueueName</span><span class="token punctuation">:</span> <span class="token string">"data-capture"</span>
</code><button class="copy-code-button">Copy</button></pre></div><div class="mod-footer"></div></div></div></div></div></div><div class="sidebar-right sidebar"><div class="sidebar-handle"></div><div class="sidebar-topbar"><div class="topbar-content"></div><div class="clickable-icon sidebar-collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><path d="M21 3H3C1.89543 3 1 3.89543 1 5V19C1 20.1046 1.89543 21 3 21H21C22.1046 21 23 20.1046 23 19V5C23 3.89543 22.1046 3 21 3Z"></path><path d="M10 4V20"></path><path d="M4 7H7"></path><path d="M4 10H7"></path><path d="M4 13H7"></path></svg></div></div><div class="sidebar-content"></div><script defer="">let rs = document.querySelector(".sidebar-right"); rs.classList.add("is-collapsed"); if (window.innerWidth > 768) rs.classList.remove("is-collapsed"); rs.style.setProperty("--sidebar-width", localStorage.getItem("sidebar-right-width"));</script></div></div></body></html>