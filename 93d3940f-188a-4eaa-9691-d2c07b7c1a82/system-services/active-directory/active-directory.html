<!DOCTYPE html> <html><head>
		<title>Active Directory</title>
		<base href="..\../">
		<meta id="root-path" root-path="..\../">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=1.0, maximum-scale=5.0">
		<meta charset="UTF-8">
		<meta name="description" content="Jumpstart - Active Directory">
		<meta property="og:title" content="Active Directory">
		<meta property="og:description" content="Jumpstart - Active Directory">
		<meta property="og:type" content="website">
		<meta property="og:url" content="https://resources.jstart.org/93d3940f-188a-4eaa-9691-d2c07b7c1a82/system-services/active-directory/active-directory.html">
		<meta property="og:image" content="undefined">
		<meta property="og:site_name" content="Jumpstart">
		<script async="" id="webpage-script" src="lib/scripts/webpage.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="minisearch-script" src="lib/scripts/minisearch.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><link rel="icon" href="lib/media/favicon.png"><style>body{--line-width:40em;--line-width-adaptive:40em;--file-line-width:40em;--sidebar-width:min(20em, 80vw);--collapse-arrow-size:11px;--tree-horizontal-spacing:0.6em;--tree-vertical-spacing:0.6em;--sidebar-margin:12px}.sidebar{height:100%;min-width:calc(var(--sidebar-width) + var(--divider-width-hover));max-width:calc(var(--sidebar-width) + var(--divider-width-hover));font-size:14px;z-index:10;position:relative;overflow:hidden;transition:min-width ease-in-out,max-width ease-in-out;transition-duration:.2s;contain:size}.sidebar-left{left:0}.sidebar-right{right:0}.sidebar.is-collapsed{min-width:0;max-width:0}body.floating-sidebars .sidebar{position:absolute}.sidebar-content{height:100%;min-width:calc(var(--sidebar-width) - var(--divider-width-hover));top:0;padding:var(--sidebar-margin);padding-top:4em;line-height:var(--line-height-tight);background-color:var(--background-secondary);transition:background-color,border-right,border-left,box-shadow;transition-duration:var(--color-fade-speed);transition-timing-function:ease-in-out;position:absolute;display:flex;flex-direction:column}.sidebar:not(.is-collapsed) .sidebar-content{min-width:calc(max(100%,var(--sidebar-width)) - 3px);max-width:calc(max(100%,var(--sidebar-width)) - 3px)}.sidebar-left .sidebar-content{left:0;border-top-right-radius:var(--radius-l);border-bottom-right-radius:var(--radius-l)}.sidebar-right .sidebar-content{right:0;border-top-left-radius:var(--radius-l);border-bottom-left-radius:var(--radius-l)}.sidebar:has(.sidebar-content:empty):has(.topbar-content:empty){display:none}.sidebar-topbar{height:2em;width:var(--sidebar-width);top:var(--sidebar-margin);padding-inline:var(--sidebar-margin);z-index:1;position:fixed;display:flex;align-items:center;transition:width ease-in-out;transition-duration:inherit}.sidebar.is-collapsed .sidebar-topbar{width:calc(2.3em + var(--sidebar-margin) * 2)}.sidebar .sidebar-topbar.is-collapsed{width:0}.sidebar-left .sidebar-topbar{left:0}.sidebar-right .sidebar-topbar{right:0}.topbar-content{overflow:hidden;overflow:clip;width:100%;height:100%;display:flex;align-items:center;transition:inherit}.sidebar.is-collapsed .topbar-content{width:0;transition:inherit}.clickable-icon.sidebar-collapse-icon{background-color:transparent;color:var(--icon-color-focused);padding:0!important;margin:0!important;height:100%!important;width:2.3em!important;margin-inline:0.14em!important;position:absolute}.sidebar-left .clickable-icon.sidebar-collapse-icon{transform:rotateY(180deg);right:var(--sidebar-margin)}.sidebar-right .clickable-icon.sidebar-collapse-icon{transform:rotateY(180deg);left:var(--sidebar-margin)}.clickable-icon.sidebar-collapse-icon svg.svg-icon{width:100%;height:100%}.sidebar-section-header{margin:0 0 1em 0;text-transform:uppercase;letter-spacing:.06em;font-weight:600}body{transition:background-color var(--color-fade-speed) ease-in-out}.webpage-container{display:flex;flex-direction:row;height:100%;width:100%;align-items:stretch;justify-content:center}.document-container{opacity:1;flex-basis:100%;max-width:100%;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;transition:opacity .2s ease-in-out;contain:inline-size}.hide{opacity:0;transition:opacity .2s ease-in-out}.document-container>.markdown-preview-view{margin:var(--sidebar-margin);margin-bottom:0;width:100%;width:-webkit-fill-available;width:-moz-available;width:fill-available;background-color:var(--background-primary);transition:background-color var(--color-fade-speed) ease-in-out;border-top-right-radius:var(--window-radius,var(--radius-m));border-top-left-radius:var(--window-radius,var(--radius-m));overflow-x:hidden!important;overflow-y:auto!important;display:flex!important;flex-direction:column!important;align-items:center!important;contain:inline-size}.document-container>.markdown-preview-view>.markdown-preview-sizer{padding-bottom:80vh!important;width:100%!important;max-width:var(--line-width)!important;flex-basis:var(--line-width)!important;transition:background-color var(--color-fade-speed) ease-in-out;contain:inline-size}.markdown-rendered img:not([width]),.view-content img:not([width]){max-width:100%;outline:0}.document-container>.view-content.embed{display:flex;padding:1em;height:100%;width:100%;align-items:center;justify-content:center}.document-container>.view-content.embed>*{max-width:100%;max-height:100%;object-fit:contain}:has(> :is(.math,table)){overflow-x:auto!important}.document-container>.view-content{overflow-x:auto;contain:content;padding:0;margin:0;height:100%}.scroll-highlight{position:absolute;width:100%;height:100%;pointer-events:none;z-index:1000;background-color:hsla(var(--color-accent-hsl),.25);opacity:0;padding:1em;inset:50%;translate:-50% -50%;border-radius:var(--radius-s)}</style><script defer="">async function loadIncludes(){if("file:"!=location.protocol){let e=document.querySelectorAll("include");for(let t=0;t<e.length;t++){let o=e[t],l=o.getAttribute("src");try{const e=await fetch(l);if(!e.ok){console.log("Could not include file: "+l),o?.remove();continue}let t=await e.text(),n=document.createRange().createContextualFragment(t),i=Array.from(n.children);for(let e of i)e.classList.add("hide"),e.style.transition="opacity 0.5s ease-in-out",setTimeout((()=>{e.classList.remove("hide")}),10);o.before(n),o.remove(),console.log("Included file: "+l)}catch(e){o?.remove(),console.log("Could not include file: "+l,e);continue}}}else{if(document.querySelectorAll("include").length>0){var e=document.createElement("div");e.id="error",e.textContent="Web server exports must be hosted on an http / web server to be viewed correctly.",e.style.position="fixed",e.style.top="50%",e.style.left="50%",e.style.transform="translate(-50%, -50%)",e.style.fontSize="1.5em",e.style.fontWeight="bold",e.style.textAlign="center",document.body.appendChild(e),document.querySelector(".document-container")?.classList.remove("hide")}}}document.addEventListener("DOMContentLoaded",(()=>{loadIncludes()}));let isFileProtocol="file:"==location.protocol;function waitLoadScripts(e,t){let o=e.map((e=>document.getElementById(e+"-script"))),l=0;!function e(){let n=o[l];l++,n&&"true"!=n.getAttribute("loaded")||l<o.length&&e(),l<o.length?n.addEventListener("load",e):t()}()}</script><link rel="stylesheet" href="lib/styles/obsidian.css"><link rel="preload" href="lib/styles/other-plugins.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/other-plugins.css"></noscript><link rel="preload" href="lib/styles/global-variable-styles.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/global-variable-styles.css"></noscript><link rel="preload" href="lib/styles/main-styles.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/main-styles.css"></noscript></head><body class="publish css-settings-manager theme-dark show-inline-title show-ribbon"><script defer="">let theme=localStorage.getItem("theme")||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");"dark"==theme?(document.body.classList.add("theme-dark"),document.body.classList.remove("theme-light")):(document.body.classList.add("theme-light"),document.body.classList.remove("theme-dark")),window.innerWidth<480?document.body.classList.add("is-phone"):window.innerWidth<768?document.body.classList.add("is-tablet"):window.innerWidth<1024?document.body.classList.add("is-small-screen"):document.body.classList.add("is-large-screen")</script><div class="webpage-container workspace"><div class="sidebar-left sidebar"><div class="sidebar-handle"></div><div class="sidebar-topbar"><div class="topbar-content"><label class="theme-toggle-container" for="theme_toggle"><input class="theme-toggle-input" type="checkbox" id="theme_toggle"><div class="toggle-background"></div></label></div><div class="clickable-icon sidebar-collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><path d="M21 3H3C1.89543 3 1 3.89543 1 5V19C1 20.1046 1.89543 21 3 21H21C22.1046 21 23 20.1046 23 19V5C23 3.89543 22.1046 3 21 3Z"></path><path d="M10 4V20"></path><path d="M4 7H7"></path><path d="M4 10H7"></path><path d="M4 13H7"></path></svg></div></div><div class="sidebar-content"><div class="search-input-container"><input enterkeyhint="search" type="search" spellcheck="false" placeholder="Search..."><div class="search-input-clear-button" aria-label="Clear search"></div></div><include src="lib/html/file-tree.html"></include></div><script defer="">let ls = document.querySelector(".sidebar-left"); ls.classList.add("is-collapsed"); if (window.innerWidth > 768) ls.classList.remove("is-collapsed"); ls.style.setProperty("--sidebar-width", localStorage.getItem("sidebar-left-width"));</script></div><div class="document-container markdown-reading-view hide"><div class="markdown-preview-view markdown-rendered allow-fold-headings allow-fold-lists is-readable-line-width"><style id="MJX-CHTML-styles"></style><div class="markdown-preview-sizer markdown-preview-section"><h1 class="page-title heading inline-title" id="Infrastructure"><p dir="auto">Infrastructure</p></h1><div><p dir="auto">On premise AD is the core of the entire system. It is an LDAP (Lightweight Directory Application Protocol) that defines all users and nearly all permissions, leaning heavily on syncing with <a data-href="Azure Active Directory" href="system-services/microsoft-online/azure-active-directory.html" class="internal-link" target="_self" rel="noopener">Azure Active Directory</a> to provide <a data-tooltip-position="top" aria-label="SSO" data-href="SSO" href="key-terms/sso.html" class="internal-link" target="_self" rel="noopener">Single Sign On</a> to every server or service that can handle it. The general structure has a base OU of "_Jumpstart", with a descendent OU for staff computers, staff/non-Corps Member users, Corps Member users, and servers. There are many leftover elements from the previous managed service provider (G2), including the prefixing of nearly everything with JS, something unnecessary given that everything in there is "JS", but we have maintained the practice for consistency's sake.</p></div><div class="heading-wrapper"><div class="heading-children"><div><p dir="auto">AD replicates its information across multiple servers called <a data-tooltip-position="top" aria-label="Domain Controller" data-href="Domain Controller" href="key-terms/domain-controller.html" class="internal-link" target="_self" rel="noopener">Domain Controllers</a>. As a distributed system it is better able to handle outages, increase performance, </p></div><div><p dir="auto"><a data-href="Index of Group Policies" href="indexes/index-of-group-policies.html" class="internal-link" target="_self" rel="noopener">Index of Group Policies</a><br>
<a data-href="Index of Active Directory Groups" href="indexes/index-of-active-directory-groups.html" class="internal-link" target="_self" rel="noopener">Index of Active Directory Groups</a></p></div></div></div><div class="heading-wrapper"><h1 data-heading="Users" dir="auto" class="heading" id="Users">Users</h1><div class="heading-children"><div class="heading-wrapper"><h2 data-heading="Creating" dir="auto" class="heading" id="Creating"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Creating</h2><div class="heading-children"><div><p dir="auto">All normal user accounts are created through AD and almost all software and system permissions are granted through group memberships. User accounts are generally generated by an automated flow out of <a data-href="archive/salesforce" href="archive/salesforce.html" class="internal-link" target="_self" rel="noopener">archive/salesforce</a> through a small set of AD commands in a PHP file on <a data-href="Self-Service Password Reset (Oops)" href="system-services/self-service-password-reset-(oops).html" class="internal-link" target="_self" rel="noopener">Self-Service Password Reset (Oops)</a>. This process will be migrated to Windmill to increase maintainability <a href="?query=tag:todo" class="tag" target="_blank" rel="noopener">#todo</a>. User standards are:</p></div><div><ol dir="auto">
<li data-line="0" dir="auto">The Display Name field and individual name fields fairly open and include non-Latin characters, spaces, and commas. This includes emojis, which is unintended but has not caused enough issue to be specifically filtered out</li>
<li data-line="1" dir="auto">Usernames must be unique in AD, so for both varieties of username below a four digit number might be appended if a collision with an existing username is detected</li>
<li data-line="2" dir="auto"><strong>userPrincipalName</strong> is generated in a <em>givenName</em>.<em>familyName</em>[-siteCode]@jstart.org format - the siteCode is appended to the username if they are not Jumpstart staff. This helps to prevent name collisions. The UPN can include non-Latin characters<br>
3. If a username (especially for staff) <strong>exceeds</strong> 40 characters they should be added to the <a data-href="Apps-SSO-Shortname" href="system-services/active-directory/active-directory-groups/apps/apps-sso-shortname.html" class="internal-link" target="_self" rel="noopener">Apps-SSO-Shortname</a> group when created, as some <a data-href="SSO" href="key-terms/sso.html" class="internal-link" target="_self" rel="noopener">SSO</a> services have a hard cutoff at that point</li>
<li data-line="4" dir="auto"><strong>sAMAccountName</strong> (the legacy name format that is limited to 20 characters) is [first initial of <em>givenName</em>]<em>familyName</em> - if a number is appended because of a collision, it will take priority over the last few letters of the familyName. The SamAccountName is almost never a user facing field</li>
<li data-line="5" dir="auto">The <strong>mobile</strong> field is critical for use of the <a data-href="Self-Service Password Reset (Oops)" href="system-services/self-service-password-reset-(oops).html" class="internal-link" target="_self" rel="noopener">Self-Service Password Reset (Oops)</a>, so though not technically required it is worth pushing for this data even when someone is hesitant, and it should be made clear to them they will not be able to reset their own password and will have to wait for someone to be available to help</li>
<li data-line="6" dir="auto">The <strong>mail</strong> field is populated with the same value as the userPrincipalName</li>
<li data-line="7" dir="auto">The <strong>proxyAddresses</strong> field is populated with the personal email of Corps Members or potentially external users in order to redirect messages outward</li>
<li data-line="8" dir="auto">The <strong>Title</strong> or <strong>Description</strong> fields may also be filled in, depending on the particulars of the person's position</li>
<li data-line="9" dir="auto"><strong>Manager</strong> is set from the <a data-href="Affiliation" href="system-services/salesforce/custom-objects/affiliation.html" class="internal-link" target="_self" rel="noopener">Affiliation</a> record in Salesforce if it exists at the time of creation. This will help Outlook and Teams automatically find calendars that a manager should have access to</li>
<li data-line="10" dir="auto"><strong>ExtensionAttribute14</strong> holds the User record ID from Salesforce</li>
<li data-line="11" dir="auto"><strong>ExtensionAttribute15</strong> holds the Contact (or Lead) record ID from Salesforce that caused the user to be generated</li>
</ol></div></div></div><div class="heading-wrapper"><h2 data-heading="Updating" dir="auto" class="heading" id="Updating"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Updating</h2><div class="heading-children"><div><p dir="auto">Generally user accounts don't need much modification after creation, but adding Groups and updating names are not unheard of. There are several ways to update a user in AD:</p></div><div><ol dir="auto">
<li data-line="0" dir="auto">Active Directory Users and Computers - the ADUC is a Windows application that allows direct manipulation of LDAP records, the primary two being Users and Groups. In order to use this program the person must have the <a data-tooltip-position="top" aria-label="RSAT" data-href="RSAT" href="key-terms/rsat.html" class="internal-link" target="_self" rel="noopener">Remote Server Administration Tools</a> pack installed. <strong>This tool is very powerful, dangerous, and so access is limited</strong></li>
<li data-line="1" dir="auto"><a data-href="LanSweeper" href="system-services/lansweeper.html" class="internal-link" target="_self" rel="noopener">LanSweeper</a> - this is a hosted application that tracks our hardware inventory and also connects with AD to match gathered information with users and use. It has the option to run commands through the browser as well, and we have developed a list of <a data-href="PowerShell" href="PowerShell" class="internal-link" target="_self" rel="noopener">PowerShell</a> scripts that allow any OpsTech staff to execute commands. The scripts make sure to validate the data to be used and then makes the update in very specific and controlled ways. <strong>You must be on the VPN to access LanSweeper</strong></li>
<li data-line="2" dir="auto">Salesforce - there are several different tools in Salesforce that run small updates on user accounts without requiring administrative permission nor being on the VPN. The tools are published as <a data-href="Flows" href="system-services/salesforce/flows/flows.html" class="internal-link" target="_self" rel="noopener">Flows</a></li>
</ol></div></div></div></div></div><div class="heading-wrapper"><h1 data-heading="Groups" dir="auto" class="heading" id="Groups">Groups</h1><div class="heading-children"><div><p dir="auto"><a data-tooltip-position="top" aria-label="Index of Active Directory Groups" data-href="Index of Active Directory Groups" href="indexes/index-of-active-directory-groups.html" class="internal-link" target="_self" rel="noopener">View all AD Groups</a><br>
Active Directory groups are flexible and powerful way to manage permissions and communication. They can be nested into each other, allowing clear and multi-layered levels of use. They have two properties of interest:</p></div><div><ul dir="auto">
<li data-line="0" dir="auto">Members - this lists the user accounts and other groups who are child records of the group. Anything that the current group can access the descendants can access as well; anything sent to the parent group will be sent to the children as well</li>
<li data-line="1" dir="auto">MemberOf - the other side of the coin, this is the list of groups this object belongs to. Where Members can contain users and groups, MemberOf will only contain groups. Anything that can be accessed by a group the object is a MemberOf can be accessed by the object, resolving all the way up the group membership chain<br>
As a concrete example, suppose that there is an Active Directory group setup like</li>
<li data-line="3" dir="auto"><strong>Division-Operations</strong> has the members <strong>Department-OpsTech</strong> and <strong>Department-ProgramManagement</strong>, and the Program Management group had a member <strong>Department-ProgramManagement-DataCoordinators</strong></li>
<li data-line="4" dir="auto"><a data-href="J Drive" href="system-services/j-drive.html" class="internal-link" target="_self" rel="noopener">J Drive</a> folders exist where<br>
- J:\Reports is accessible by <strong>Department-OpsTech</strong><br>
- J:\All is accessible by <strong>Division-Operations</strong><br>
- J:\All\DataStuff is accessible by <strong>Department-ProgramOperations-DataCoordinators</strong><br>
Then anyone in <strong>Department-ProgramManagement</strong> would be able to get into J:\All no problem, but would not be able to access J:\Reports; also anyone in <strong>Department-ProgramManagement-DataCoordinators</strong> could get into the All\DataStuff folder but those only in the higher level department group would not.</li>
</ul></div><div><p dir="auto">Another critical part of this is not just the nesting, but the syncing of these groups to systems that have permission beyond that of Active Directory. For instance, <a data-tooltip-position="top" aria-label="Access-Role-" data-href="Access-Role-" href="system-services/active-directory/active-directory-groups/access-role-.html" class="internal-link" target="_self" rel="noopener">site-based group membership</a> is synced into Salesforce <a data-tooltip-position="top" aria-label="Public Group" data-href="Public Group" href="system-services/salesforce/standard-objects/public-group.html" class="internal-link" target="_self" rel="noopener">Public Groups</a> through <a data-href="Power Automate" href="system-services/microsoft-online/power-automate.html" class="internal-link" target="_self" rel="noopener">Power Automate</a> to allow the effective use of <a data-tooltip-position="top" aria-label="Sharing Rule" data-href="Sharing Rule" href="system-services/salesforce/standard-objects/sharing-rule.html" class="internal-link" target="_self" rel="noopener">Sharing Rules</a> to secure site data. Often the sync of group memberships has to be done through a separate process, as in the case of Salesforce and even <a data-href="Azure Active Directory" href="system-services/microsoft-online/azure-active-directory.html" class="internal-link" target="_self" rel="noopener">Azure Active Directory</a>'s <a data-href="Office 365 Groups" href="system-services/microsoft-online/office-365-groups-and-teams/office-365-groups.html" class="internal-link" target="_self" rel="noopener">Office 365 Groups</a> which are not related to nor automatically synced with <a data-href="on-premise" href="key-terms/on-premise.html" class="internal-link" target="_self" rel="noopener">on-premise</a> AD groups.</p></div><div><p dir="auto">The standard format for naming a new group should start with a general type, then a hyphen, then getting more specific as layers need to be created.</p></div><div class="mod-footer"></div></div></div></div></div></div><div class="sidebar-right sidebar"><div class="sidebar-handle"></div><div class="sidebar-topbar"><div class="topbar-content"></div><div class="clickable-icon sidebar-collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><path d="M21 3H3C1.89543 3 1 3.89543 1 5V19C1 20.1046 1.89543 21 3 21H21C22.1046 21 23 20.1046 23 19V5C23 3.89543 22.1046 3 21 3Z"></path><path d="M10 4V20"></path><path d="M4 7H7"></path><path d="M4 10H7"></path><path d="M4 13H7"></path></svg></div></div><div class="sidebar-content"></div><script defer="">let rs = document.querySelector(".sidebar-right"); rs.classList.add("is-collapsed"); if (window.innerWidth > 768) rs.classList.remove("is-collapsed"); rs.style.setProperty("--sidebar-width", localStorage.getItem("sidebar-right-width"));</script></div></div></body></html>